<title>万能表单</title>

<link rel="stylesheet" href="/css/examples/forms/wnform.css">

<div class="page animation-fade">

	<div class="page-header">
		<h1 class="page-title">万能表单</h1>
		<p class="page-description"></p>
		<div class="page-header-actions">
			<a class="btn btn-inverse btn-round" href="http://clippings.github.io/layout-grid/" target="_blank">
				<i class="icon wb-link" aria-hidden="true"></i> <span class="hidden-xs">官网</span></a>
		</div>
	</div>

	<div class="page-content container-fluid" id="design">
		<div class="row">

			<div class="col-md-3">
				<div class="panel nav-tabs-horizontal" data-approve="nav-tabs" id="control">
					<ul class="nav nav-tabs nav-tabs-bottom nav-tabs-line" role="tablist">
						<li class="active" role="presentation">
							<a data-toggle="tab" href="#field-basic" aria-controls="field-basic" role="tab">
								<i class="icon wb-plugin" aria-hidden="true"></i>基础
							</a>
						</li>
						<li role="presentation">
							<a data-toggle="tab" href="#field-image" aria-controls="field-image" role="tab">
								<i class="icon wb-user" aria-hidden="true"></i>图片
							</a>
						</li>
						<li role="presentation">
							<a data-toggle="tab" href="#field-contacts" aria-controls="field-contacts" role="tab">
								<i class="icon wb-tag" aria-hidden="true"></i>联系人
							</a>
						</li>
						<li role="presentation">
							<a data-toggle="tab" href="#field-chart" aria-controls="field-chart" role="tab">
								<i class="icon wb-cloud" aria-hidden="true"></i>图表
							</a>
						</li>
					</ul>
					<div class="panel-body" :style="{height:(winHeight-263)+'px'}">
						<div class="tab-content">
							<div class="tab-pane active" id="field-basic" role="tabpanel">
								<div class="row">
									<button type="button" class="btn btn-primary col-xs-3"
											v-for="(item,name) in fieldsConfig"
											:key="item.name" @click="addControl(name)"
											v-if="item.isShow!==false">
										<i :class="item.icon" aria-hidden="true"></i> <br>
										<span class="text-uppercase hidden-xs">{{item.title}}</span>
									</button>
								</div>
							</div>
							<div class="tab-pane" id="field-image" role="tabpanel">
							</div>
							<div class="tab-pane" id="field-contacts" role="tabpanel">
							</div>
							<div class="tab-pane" id="field-chart" role="tabpanel">
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="panel" id="preview" :style="{height:(winHeight-223)+'px'}">
					<div class="panel-heading">
						<h3 class="panel-title" @click="chooseControl({name:'form',options:form})">{{form.title}}</h3>
					</div>
					<div class="panel-body">
						<div class="description" v-html="form.description"></div>

						<draggable :list="form.fields" :options="{animation: 200}" class="form-horizontal">
							<div class="form-group" :class="{selected:control===field}"
									v-for="(field,index) in form.fields"
									:key="field.object_id" @click="chooseControl(field)">
								<div class="action">
									<button type="button" class="btn btn-pure btn-primary icon wb-copy"
											@click.capture.stop="copyControl(field)"></button>
									<button type="button" class="btn btn-pure btn-danger icon wb-trash"
											@click.capture.stop="removeControl(index)"></button>
								</div>
								<label :class="getFieldLabelClass(field)"
										:for="field.object_id">{{field.options.title}}</label>
								<div :class="getFieldControlClass(field)">
									<field-parse :field="field"></field-parse>
								</div>
							</div>
						</draggable>

						{{form}}
					</div>
				</div>
			</div>

			<div class="col-md-3">
				<div class="panel" id="settings">
					<div class="panel-heading">
						<h3 class="panel-title">配置</h3>
					</div>
					<div class="panel-body" :style="{height:(winHeight-274)+'px'}">
						<template v-for="group in getControlOptions(control.name)">
							<blockquote>{{group.title}}</blockquote>
							<div class="form-group" v-for="(option,aKey) in group.options"
									v-if="isShowAttribute(option)">
								<label class="control-label" :for="aKey">{{option.title}}</label>

								<!--文本框-->
								<input type="text" class="form-control" :id="aKey" v-model="chooseOptions[aKey]"
										v-if="option.type==='string'">
								<!--开关-->
								<div class="checkbox-custom checkbox-default" v-if="option.type==='switch'">
									<input type="checkbox" :id="aKey" v-model="chooseOptions[aKey]"/>
									<label :for="aKey">开启</label>
								</div>
								<!--单选框-->
								<ul class="list-unstyled list-inline" v-if="option.type==='radio'">
									<li v-for="(item,key) in option.items">
										<div class="radio-custom radio-default">
											<input type="radio" :name="aKey" :id="aKey+'_'+key" :value="key"
													v-model="chooseOptions[aKey]"/>
											<label :for="aKey+'_'+key">{{item}}</label>
										</div>
									</li>
								</ul>
								<!--复选框-->
								<ul class="list-unstyled list-inline" v-if="option.type==='checkbox'">
									<li v-for="(item,key) in option.items">
										<div class="radio-custom radio-default">
											<input type="checkbox" :name="aKey" :id="aKey+'_'+key" :value="key"
													v-model="chooseOptions[aKey]"/>
											<label :for="aKey+'_'+key">{{item}}</label>
										</div>
									</li>
								</ul>
							</div>
						</template>
						{{control}}
					</div>
				</div>
			</div>

		</div>
	</div>

</div>

<script type="text/html" id="field-parse">
	<input type="text" class="form-control" :id="field.object_id" name="field.object_id"
			:placeholder="field.options.placeholder" v-if="field.name==='string'">
</script>

<script type="text/html" id="attribute-parse">
	<input type="text" class="form-control" :id="options.object_id" name="field.object_id"
			:placeholder="field.options.placeholder" v-if="type==='string'">
</script>

<script src="https://cdn.bootcss.com/vue/2.5.16/vue.min.js"></script>
<script src="https://cdn.bootcss.com/Sortable/1.6.0/Sortable.min.js"></script>
<script src="https://cdn.bootcss.com/Vue.Draggable/2.16.0/vuedraggable.js"></script>

<script src="/js/examples/forms/wnform-config.js"></script>
<script src="/js/examples/forms/wnform.js"></script>